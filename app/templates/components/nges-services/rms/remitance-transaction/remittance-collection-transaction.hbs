<style>
  .rms-bottom-hr-line {
    border: 0;
    max-width: 70%;
    margin-left: 0;
    margin-top: -8px;
    border-top: 2px solid;
    border-color: #666666;
  }
</style>
<div class="">

  <h1 class="layout-header-title">Remittance Collection Transaction</h1>
  <hr class="header-label-line">

  <form class="form-horizontal">

    {{nges-core/nges-input-component
      type='text'
      input-field-name="Remitter Id"
      model=model
      valuePath='remId'
      placeholder='Id'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-4'
      didValidate=didValidate}}


    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Type of Remittance</label>
        </div>

        <div class="col-sm-6">
          {{nges-core/nges-searchable-dropdown
            dataList=remittanceTypeList
            message = "Select Type of Remittance"
            autocompleteOnSelect=(action 'onChangeRemitanceType')
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Purpose of Remittance</label>
        </div>

        <div class="col-sm-6">
          {{nges-core/nges-searchable-dropdown
            dataList=remittancePurposeList
            message = "Select Purpose of Remittance"
            autocompleteOnSelect=(action 'onChangeRemittancePurpose')
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Source of Fund</label>
        </div>
        <div class="col-sm-6">

          {{nges-core/nges-searchable-dropdown
            dataList=fundSourceList
            message = "Select Source of Fund"
            autocompleteOnSelect=(action 'onChangeSourceOfFund')
          }}

        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Delivery Agent</label>
        </div>
        <div class="col-sm-6">
          {{nges-core/nges-searchable-dropdown
            dataList=deliveryAgentList
            message = "Select Delivery Agent"
            autocompleteOnSelect=(action 'onChangeDeliveryAgent')
          }}
        </div>
      </div>
    </div>


    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Beneficiary Country</label>
        </div>
        <div class="col-sm-6">

          {{nges-core/nges-searchable-dropdown
            dataList=countryList
            message = "Select Beneficiary Country"
            autocompleteOnSelect=(action 'onChangeBeneficiaryCountry')
          }}
        </div>
      </div>
    </div>

    {{nges-core/nges-input-component
      type='text'
      input-field-name="Beneficiary Id"
      model=model
      valuePath='beneficiaryId'
      placeholder='Beneficiary Id'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-4'
      didValidate=didValidate}}


    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Beneficiary's Bank</label>
        </div>
        <div class="col-sm-6">

          {{nges-core/nges-searchable-dropdown
            dataList=bankList
            message = "Select Beneficiary's Bank"
            autocompleteOnSelect=(action 'onChangeBeneficiaryBank')
          }}

        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Beneficiary's Branch</label>
        </div>
        <div class="col-sm-6">

          {{nges-core/nges-searchable-dropdown
            dataList=bankBranchList
            message = "Select Beneficiary's Branch"
            autocompleteOnSelect=(action 'onChangeBeneficiaryBranch')
          }}

        </div>
      </div>
    </div>

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Input Amount"
      model=model
      valuePath='inputAmount'
      placeholder='Input Amount'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-4'
      didValidate=didValidate}}

    <div class="form-group">
      <div class="row">
        <div class="col-sm-2">
          <label class="input-field-label">Currency</label>
        </div>
        <div class="col-sm-6">


          {{nges-core/nges-searchable-dropdown
            dataList=currencyList
            message = "Select Currency"
            autocompleteOnSelect=(action 'onChangeCurrency')
          }}
        </div>
      </div>
    </div>

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Transfer Amount"
      model=model
      valuePath='transferAmount'
      placeholder='Transfer Amount'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-6'
      didValidate=didValidate}}

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Local Amount"
      model=model
      valuePath='localAmount'
      placeholder='Local Amount'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-6'
      didValidate=didValidate}}

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Comission Amount"
      model=model
      valuePath='comissionAmount'
      placeholder='Comission Amount'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-6'
      didValidate=didValidate}}

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Total Value needed to Pay"
      model=model
      valuePath='totalPayValue'
      placeholder='Total Value needed to Pay'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-6'
      didValidate=didValidate}}

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Total Value needed to Adjust"
      model=model
      valuePath='totalAdjustValue'
      placeholder='Total Value needed to Adjust'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-6'
      didValidate=didValidate}}

    {{nges-core/nges-input-component
      type='number'
      input-field-name="Total Pay Amount"
      model=model
      valuePath='totalPayAmount'
      placeholder='Total Pay Amount'
      sectionFirst = 'col-sm-2'
      sectionLast = 'col-sm-6'
      didValidate=didValidate}}


    <div class="row">

      <div class="col-sm-2">
        <label class="input-field-label">Mode of Payment</label>
      </div>

      <div class="col-sm-6">

        {{nges-core/nges-searchable-dropdown
          dataList=paymentModeList
          message = "Select Mode of Payment"
          autocompleteOnSelect=(action 'onChangePaymentMode')
        }}

      </div>

    </div>

    <br>
    <fieldset>
      <legend class="input-field-label">Risk Status</legend>
      <div class="form-group">

        <div class="row">
          <div class="col-sm-4">
            <div class="row">
              <div class="col-sm-6">
                <label class="input-field-label" style="margin-top: 15px">Risk</label>
              </div>
              <div class="col-sm-6">
                <label style="float: right">{{selectedRisk.label}}</label>
                {{nges-core/nges-searchable-dropdown
                  dataList=riskType
                  message = "Select Risk"
                  autocompleteOnSelect=(action 'onChangeRisk')
                }}
              </div>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col-sm-2">
            <label class="input-field-label">Sanction Screening</label>
          </div>
          <div class="col-sm-9">
            <table class="table-all">
              <thead>
              <th>Source</th>
              <th>Name</th>
              <th>Country</th>
              <th>Date of Birth</th>
              <th>Father Name</th>
              <th>Score</th>
              </thead>
              <tbody>
              <td>{{source}}</td>
              <td>{{name}}</td>
              <td>{{country}}</td>
              <td>{{dob}}</td>
              <td>{{fname}}</td>
              <td>{{score}}</td>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </fieldset>

    <br>
    <!--only MLRO will see this fieldset-->
    {{#if showMLROReview}}
      <fieldset>
        <legend>MLRO Review</legend>
        <div class="row">
          <div class="col-sm-2">
            <label class="form-check-label input-field-label" style="margin-left: 15px;">
              <input type="checkbox" class="form-check-input" onclick="myFunction()" style="margin-top: 14px;">
              <label class="input-field-title" style="margin-top: 12px;">False Positive</label>
            </label>
          </div>
          <div class="col-sm-6">
            <div>
              {{nges-core/nges-input-component
                type='text'
                input-field-name="MLRO Comment"
                model=model
                valuePath='mlroComment'
                placeholder='MLRO Comment'
                sectionFirst = 'col-sm-4'
                sectionLast = 'col-sm-8'
                didValidate=didValidate}}
            </div>
          </div>

        </div>

      </fieldset>
    {{/if}}


    {{#if showAlert}}
      <div class='alert'>
        <div class='fa fa-times icon-remove' {{action 'toggleProperty' 'showAlert'}}></div>
        <h1 style="color: red; font-size: 12px">Please fix all the errors above before continuing.</h1>
      </div>
    {{/if}}

    {{#if isValid}}
      <span class='valid-input fa fa-check'><h1 style="color: red;font-size: 12px">Error Message</h1></span>
    {{/if}}
    <br>
    <hr class="rms-bottom-hr-line">
    <button id='save' class="rms-button-all rms-button-save" {{action 'validate'}}>Save</button>
    <button id='status_check' class="rms-button-all rms-button-save" {{action 'checkRiskStatus'}}>Risk Status Check
    </button>

    {{#each stateActions as |state|}}
      <button id='save' class="nges-button nges-button-save" {{action 'getNextAllowableStateIdForCurrentState'
                                                                      state.attributes.id}}>{{state.attributes.name}}</button>
    {{/each}}


    <!--<button id='clear' class="rms-button-all rms-button-save" {{action 'reset'}}>Clear</button>-->

  </form>

</div>